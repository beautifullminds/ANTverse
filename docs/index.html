import { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";

// One-file React + Tailwind landing integrating the original page structure
// with a two-slide experience: ANTVERSE and ETHEREUM‑X. Sections below the hero
// swap their content based on the active slide.
export default function BMverseLanding() {
  type Slide = {
    id: "antverse" | "ethereumx";
    brand: string;
    title: string;
    tagline: string;
    description: string;
    badges: string[];
    features: { title: string; body: string }[];
    comparison: { headA: string; headB: string; rows: [string, string, string][] };
    builders: string[];
    theme: { from: string; to: string; accent: string };
    primaryCta: string;
    secondaryCta: string;
  };

  const slides: Slide[] = [
    {
      id: "ethereumx",
      brand: "BMverse",
      title: "Ethereum‑X",
      tagline: "Where Ethereum Evolves Beyond Limits",
      description:
        "A next‑gen evolution layer designed for real‑time scalability, AI‑driven optimization, and a radically better developer & user experience — all powered by the BMverse ecosystem.",
      badges: ["Finality +30%", "3,000+ TPS", "Gas −90%", "Dual‑Yield", "SCC", "99.9% Green"],
      features: [
        { title: "AI‑Enhanced PoP (AIPoP)", body: "Adaptive consensus that rewards real performance, eliminates high entry barriers, and improves finality." },
        { title: "3,000+ TPS & Low Fees", body: "Native L2 acceleration and parallel validation to unlock high throughput at lower cost." },
        { title: "Smart Context Contracts (SCC)", body: "AI‑optimized contracts auto‑tune gas, route to lowest‑cost paths, and support multi‑chain execution." },
        { title: "Dual‑Yield Staking", body: "Predictable rewards designed for ETH + BMUSD without slashing risk." },
        { title: "Sustainability First", body: "Adaptive node sleeping and AI power scheduling target ~99.9% less energy per tx." },
        { title: "Bridge‑less Interop", body: "Unified multi‑chain wallet to move assets cross‑network without legacy bridges." },
      ],
      comparison: {
        headA: "Ethereum 2.0",
        headB: "Ethereum‑X",
        rows: [
          ["Consensus", "Proof‑of‑Stake", "AI‑Enhanced Proof‑of‑Participation"],
          ["Speed", "15–30 TPS", "3,000+ TPS (native scaling)"],
          ["Gas Cost", "Moderate", "Up to 90% cheaper"],
          ["Smart Contracts", "EVM", "Smart Context Contracts (AI‑optimized)"],
          ["Staking", "ETH only", "Dual Yield: ETH + BMUSD"],
          ["Development", "Fragmented", "Unified SDK + AI audit"],
          ["Governance", "Often off‑chain", "On‑chain quadratic voting"],
          ["Sustainability", "~99% over PoW", "~99.9% + AI scheduling"],
          ["Interoperability", "Bridges required", "Built‑in multi‑chain wallet"],
        ],
      },
      builders: [
        "Unified SDK for all networks",
        "AI‑assisted audits & auto‑debug",
        "Smart Context Contracts templates",
        "Grants & ecosystem bounties",
      ],
      theme: { from: "from-emerald-300", to: "to-fuchsia-400", accent: "bg-emerald-400" },
      primaryCta: "Get Early Access",
      secondaryCta: "See the comparison",
    },
    {
      id: "antverse",
      brand: "BMverse",
      title: "ANTVERSE",
      tagline: "AI‑Driven Metaverse Economy",
      description:
        "ANTVERSE connects gaming, DeFi, and AI economies through decentralized identity and mirror liquidity. It powers smart worlds where every digital action creates real‑world value.",
      badges: ["AI‑Worlds", "Playable NFTs", "Mirror Liquidity", "Cross‑Chain Social"],
      features: [
        { title: "AI‑Adaptive Worlds", body: "Dynamically tuning difficulty, rewards, and world logic from real‑time signals." },
        { title: "Playable NFTs with Yield", body: "NFT avatars and items accrue in‑world + DeFi rewards with transparent on‑chain logic." },
        { title: "DeFi Liquidity Mirroring", body: "Mirror LP positions across chains and DEXes to stabilize game economies." },
        { title: "Cross‑Chain Social Tokens", body: "Creator & guild tokens portable across EVM + L2s with unified identity." },
        { title: "BMUSD Integration", body: "Stable value for marketplaces, rentals, prizes, and subscriptions." },
        { title: "Builder APIs", body: "SDKs for quests, drops, marketplace rules, and anti‑bot fairness." },
      ],
      comparison: {
        headA: "Traditional Game Platforms",
        headB: "ANTVERSE",
        rows: [
          ["Ownership", "Custodial, siloed", "On‑chain, user‑owned"],
          ["Economy", "Closed, inflation‑prone", "Mirror liquidity + BMUSD"],
          ["Interoperability", "Single‑world items", "Cross‑world/cross‑chain"],
          ["Earnings", "Off‑platform only", "Playable NFTs with real yield"],
          ["Governance", "Studio‑controlled", "Player & creator DAOs"],
          ["Fraud/Bots", "Reactive bans", "AI anti‑bot + proofs"],
        ],
      },
      builders: [
        "Unity/Unreal kits + REST/JS SDK",
        "Quest & reward graph templates",
        "Marketplace + rental primitives",
        "Analytics + anti‑bot modules",
      ],
      theme: { from: "from-amber-300", to: "to-pink-500", accent: "bg-amber-400" },
      primaryCta: "Launch Your World",
      secondaryCta: "See the advantages",
    },
  ];

  const [index, setIndex] = useState(0);
  const current = slides[index];

  const next = () => setIndex((i) => (i + 1) % slides.length);
  const prev = () => setIndex((i) => (i - 1 + slides.length) % slides.length);
  const setById = (id: Slide["id"]) => setIndex(slides.findIndex((s) => s.id === id));

  return (
    <div className="min-h-screen w-full bg-[#0b0f14] text-white selection:bg-emerald-300/20 selection:text-emerald-100 relative overflow-hidden">
      {/* Ambient glows */}
      <div className="pointer-events-none absolute inset-0 overflow-hidden">
        <div className={`absolute -top-24 -left-24 h-96 w-96 rounded-full blur-3xl opacity-40 ${current.theme.accent}`} />
        <div className={`absolute -bottom-24 -right-24 h-[28rem] w-[28rem] rounded-full blur-3xl opacity-30 ${current.theme.accent}`} />
      </div>

      {/* Nav */}
      <header className="relative z-10 mx-auto flex max-w-7xl items-center justify-between px-6 py-6">
        <div className="flex items-center gap-3">
          <div className={`h-9 w-9 rounded-full ${current.theme.accent} ring-2 ring-white/10`} />
          <span className="text-lg font-semibold tracking-wide">BMverse</span>
        </div>
        <nav className="hidden items-center gap-8 md:flex text-sm">
          <button onClick={() => setById("antverse")} className={`hover:text-emerald-300 ${current.id === "antverse" ? "text-emerald-300" : "text-white/80"}`}>ANTVERSE</button>
          <button onClick={() => setById("ethereumx")} className={`hover:text-emerald-300 ${current.id === "ethereumx" ? "text-emerald-300" : "text-white/80"}`}>ETHEREUM‑X</button>
          <a href="#features" className="hover:text-emerald-300">Features</a>
          <a href="#compare" className="hover:text-emerald-300">Comparison</a>
          <a href="#builders" className="hover:text-emerald-300">For Builders</a>
          <a href="#community" className="hover:text-emerald-300">Community</a>
        </nav>
        <div className="flex items-center gap-3">
          <a
            href="https://github.com/beautifullminds"
            target="_blank"
            rel="noreferrer"
            className="rounded-xl border border-white/10 px-4 py-2 text-sm hover:border-emerald-400/40 hover:text-emerald-300"
          >
            GitHub
          </a>
          <a
            href="#cta"
            className="rounded-xl bg-emerald-500 px-4 py-2 text-sm font-semibold text-[#0b0f14] shadow-lg shadow-emerald-500/30 hover:bg-emerald-400"
          >
            {current.primaryCta}
          </a>
        </div>
      </header>

      {/* HERO Slider */}
      <section className="relative z-10 mx-auto grid max-w-7xl grid-cols-1 items-center gap-10 px-6 py-16 md:grid-cols-2 md:py-24">
        <div>
          <div className="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80">
            <span className="inline-block h-1.5 w-1.5 animate-pulse rounded-full bg-emerald-400" />
            {current.id === "ethereumx" ? "Live R&D • Ethereum‑X by BMverse" : "Live • ANTVERSE by BMverse"}
          </div>
          <h1 className="mt-5 text-4xl font-bold leading-tight md:text-6xl">
            {current.title}
            <span className={`block bg-gradient-to-r ${current.theme.from} ${current.theme.to} bg-clip-text text-transparent`}>
              {current.tagline}
            </span>
          </h1>
          <p className="mt-5 max-w-xl text-base text-white/80 md:text-lg">{current.description}</p>
          <div className="mt-8 flex flex-wrap items-center gap-4">
            <a href="#cta" className="rounded-xl bg-emerald-500 px-5 py-3 font-semibold text-[#0b0f14] shadow-lg shadow-emerald-500/30 hover:bg-emerald-400">
              {current.primaryCta}
            </a>
            <a href="#compare" className="rounded-xl border border-white/15 px-5 py-3 hover:border-emerald-300/40 hover:text-emerald-200">
              {current.secondaryCta}
            </a>
          </div>
          <div className="mt-6 flex items-center gap-6 text-sm text-white/60">
            {current.id === "ethereumx" ? (
              <>
                <span>BMUSD integrated</span><span>•</span><span>AI‑audited SDK</span><span>•</span><span>Bridge‑less interop</span>
              </>
            ) : (
              <>
                <span>Playable NFTs</span><span>•</span><span>Mirror Liquidity</span><span>•</span><span>Creator Tokens</span>
              </>
            )}
          </div>
        </div>

        <div className="relative">
          <AnimatePresence mode="wait">
            <motion.div
              key={current.id}
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              exit={{ opacity: 0, y: -20 }}
              transition={{ duration: 0.5 }}
              className="relative rounded-3xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-6 shadow-2xl ring-1 ring-white/5"
            >
              <div className="grid grid-cols-2 gap-4">
                {current.badges.map((k, i) => (
                  <div key={i} className="rounded-2xl border border-white/10 bg-white/5 p-4 text-center text-sm">
                    {k}
                  </div>
                ))}
              </div>
              <div className={`mt-6 rounded-2xl border ${current.id === "ethereumx" ? "border-emerald-400/30 bg-emerald-500/10 text-emerald-200" : "border-amber-400/30 bg-amber-500/10 text-amber-100"} p-4`}>
                <p className="text-sm">
                  {current.id === "ethereumx"
                    ? "Smart Context Contracts continuously self‑optimize with real‑time network signals."
                    : "Mirror liquidity keeps game markets stable while staying fully on‑chain."}
                </p>
              </div>
              <div className="mt-6 flex justify-between">
                <button onClick={prev} className="rounded-full border border-white/20 px-4 py-2 text-sm hover:border-emerald-300/40">← Prev</button>
                <button onClick={next} className="rounded-full border border-white/20 px-4 py-2 text-sm hover:border-emerald-300/40">Next →</button>
              </div>
            </motion.div>
          </AnimatePresence>
          <div className={`absolute -bottom-6 -right-6 h-28 w-28 animate-pulse rounded-full ${current.theme.accent} blur-2xl`} />
        </div>
      </section>

      {/* Features */}
      <section id="features" className="relative z-10 mx-auto max-w-7xl px-6 py-16">
        <h2 className="text-2xl font-semibold md:text-3xl">Key Features</h2>
        <p className="mt-4 max-w-3xl text-white/80">
          {current.id === "ethereumx"
            ? "Ethereum‑X advances performance, cost, and user experience through AI‑guided networking and SCC."
            : "ANTVERSE fuses gaming, DeFi, and AI — giving players, creators, and studios programmable economies."}
        </p>
        <div className="mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {current.features.map((f, idx) => (
            <div key={idx} className="rounded-2xl border border-white/10 bg-white/5 p-6 shadow-lg">
              <h3 className={`text-lg font-semibold ${current.id === "ethereumx" ? "text-emerald-300" : "text-amber-300"}`}>{f.title}</h3>
              <p className="mt-3 text-sm text-white/80">{f.body}</p>
            </div>
          ))}
        </div>
      </section>

      {/* Comparison */}
      <section id="compare" className="relative z-10 mx-auto max-w-7xl px-6 py-16">
        <div className="flex items-end justify-between gap-6">
          <div>
            <h2 className="text-2xl font-semibold md:text-3xl">Comparison</h2>
            <p className="mt-3 max-w-2xl text-white/80">
              {current.id === "ethereumx"
                ? "A quick snapshot of how Ethereum‑X advances core dimensions of performance, cost, and UX."
                : "How ANTVERSE differs from traditional game platforms in ownership, economics, and interoperability."}
            </p>
          </div>
          <a href="#cta" className="hidden rounded-xl border border-white/15 px-4 py-2 text-sm hover:border-emerald-300/40 hover:text-emerald-200 md:inline-block">{current.primaryCta}</a>
        </div>

        <div className="mt-8 overflow-hidden rounded-2xl border border-white/10">
          <table className="w-full min-w-[720px] border-collapse bg-white/5 text-sm">
            <thead>
              <tr className="bg-white/10 text-left text-white">
                <th className="p-4">Feature</th>
                <th className="p-4">{current.comparison.headA}</th>
                <th className="p-4">{current.comparison.headB}</th>
              </tr>
            </thead>
            <tbody>
              {current.comparison.rows.map((row, i) => (
                <tr key={i} className="odd:bg-white/0 even:bg-white/5">
                  <td className="p-4 font-medium text-white/90">{row[0]}</td>
                  <td className="p-4 text-white/75">{row[1]}</td>
                  <td className={`p-4 ${current.id === "ethereumx" ? "text-emerald-200" : "text-amber-100"}`}>{row[2]}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </section>

      {/* Builders */}
      <section id="builders" className="relative z-10 mx-auto max-w-7xl px-6 py-16">
        <div className="grid items-start gap-10 md:grid-cols-2">
          <div>
            <h2 className="text-2xl font-semibold md:text-3xl">Built for Builders</h2>
            <p className="mt-4 max-w-xl text-white/80">
              {current.id === "ethereumx"
                ? "Ship faster with a unified, AI‑audited SDK, one‑click deploys, and SCC templates."
                : "Drop‑in kits for games & worlds — quests, drops, economies, rentals, and anti‑bot fairness."}
            </p>
            <ul className="mt-6 space-y-3 text-white/80">
              {current.builders.map((b, i) => (
                <li key={i} className="flex items-start gap-3"><span className={`mt-1 inline-block h-1.5 w-1.5 rounded-full ${current.id === "ethereumx" ? "bg-emerald-400" : "bg-amber-400"}`} /> {b}</li>
              ))}
            </ul>
            <div className="mt-8 flex flex-wrap gap-3">
              <a href="#cta" className="rounded-xl bg-emerald-500 px-5 py-3 font-semibold text-[#0b0f14] shadow-lg shadow-emerald-500/30 hover:bg-emerald-400">{current.id === "ethereumx" ? "Apply for Grants" : "Get Builder Kit"}</a>
              <a href="https://github.com/beautifullminds" target="_blank" rel="noreferrer" className="rounded-xl border border-white/15 px-5 py-3 hover:border-emerald-300/40 hover:text-emerald-200">Explore Repos</a>
            </div>
          </div>
          <div className="relative rounded-3xl border border-white/10 bg-white/5 p-6">
            <div className="grid grid-cols-2 gap-4">
              {(current.id === "ethereumx"
                ? ["One‑click deploy", "AI audit", "Auto‑debug", "SDK templates", "SCC kit", "Wallet API"]
                : ["Unity/Unreal", "Reward graph", "Marketplace", "Rentals", "Analytics", "Anti‑bot"]
              ).map((t, i) => (
                <div key={i} className="rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 to-white/0 p-4 text-center">
                  <span className="text-sm text-white/85">{t}</span>
                </div>
              ))}
            </div>
            <p className="mt-6 text-sm text-white/70">
              {current.id === "ethereumx"
                ? "Start with SCC templates and ship features that self‑optimize gas, latency, and routing."
                : "Instrument quests and markets with on‑chain rules and anti‑bot scoring."}
            </p>
          </div>
        </div>
      </section>

      {/* Community */}
      <section id="community" className="relative z-10 mx-auto max-w-7xl px-6 py-16">
        <div className="rounded-3xl border border-white/10 bg-gradient-to-br from-white/5 to-white/0 p-8">
          <div className="grid items-center gap-8 md:grid-cols-2">
            <div>
              <h2 className="text-2xl font-semibold md:text-3xl">Powering a Shared Economy</h2>
              <p className="mt-4 max-w-xl text-white/80">
                BMUSD brings stable value across dApps, games, and DeFi in the BMverse. With bridge‑less transfers and predictable staking rewards, builders get reliable economics from day one.
              </p>
              <div className="mt-6 flex flex-wrap gap-3 text-sm text-white/70">
                <a href="https://x.com/bmverseio" target="_blank" rel="noreferrer" className="rounded-xl border border-white/15 px-4 py-2 hover:border-emerald-300/40 hover:text-emerald-200">X / Twitter</a>
                <a href="https://t.me/xprv9s" target="_blank" rel="noreferrer" className="rounded-xl border border-white/15 px-4 py-2 hover:border-emerald-300/40 hover:text-emerald-200">Telegram</a>
                <a href="https://bmverse.io" className="rounded-xl border border-white/15 px-4 py-2 hover:border-emerald-300/40 hover:text-emerald-200">Website</a>
              </div>
            </div>
            <div className="relative">
              <div className="rounded-2xl border border-white/10 bg-white/5 p-6 text-sm text-white/80">
                <p className={`${current.id === "ethereumx" ? "text-emerald-300" : "text-amber-300"} font-semibold`}>{current.id === "ethereumx" ? "Join the Ethereum‑X community" : "Join the ANTVERSE community"}</p>
                <p className="mt-2">Be first to test the unified wallet, templates, and grants/builder kits.</p>
                <NewsletterForm />
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* CTA */}
      <section id="cta" className="relative z-10 mx-auto max-w-7xl px-6 py-20">
        <div className="rounded-3xl border border-emerald-400/30 bg-gradient-to-br from-emerald-500/10 to-fuchsia-500/10 p-10 text-center">
          <h3 className="text-2xl font-semibold md:text-3xl">Ready to build with BMverse?</h3>
          <p className="mx-auto mt-3 max-w-2xl text-white/80">
            {current.id === "ethereumx"
              ? "Get the developer preview, experiment with Smart Context Contracts, and help shape AI‑optimized blockchains."
              : "Launch your AI‑driven world with playable NFTs, mirror liquidity, and creator tokens."}
          </p>
          <div className="mt-6 flex flex-wrap items-center justify-center gap-4">
            <a href="https://github.com/beautifullminds" target="_blank" rel="noreferrer" className="rounded-xl border border-white/15 px-5 py-3 hover:border-emerald-300/40 hover:text-emerald-200">View on GitHub</a>
            <a href="#community" className="rounded-xl bg-emerald-500 px-5 py-3 font-semibold text-[#0b0f14] shadow-lg shadow-emerald-500/30 hover:bg-emerald-400">Join Community</a>
          </div>
        </div>
      </section>

      <footer className="relative z-10 mx-auto max-w-7xl px-6 pb-10">
        <div className="mt-12 grid gap-6 border-t border-white/10 pt-8 md:grid-cols-2">
          <p className="text-sm text-white/60">© {new Date().getFullYear()} BMverse — ANTVERSE & ETHEREUM‑X</p>
          <div className="text-sm text-white/60 md:text-right">
            <a href="mailto:ceo@bmverse.io" className="hover:text-emerald-300">ceo@bmverse.io</a>
          </div>
        </div>
      </footer>
    </div>
  );
}

function NewsletterForm() {
  const [email, setEmail] = useState("");
  return (
    <form
      className="mt-4 flex gap-3"
      onSubmit={(e) => {
        e.preventDefault();
        alert(`Thanks! We'll notify ${email} when early access opens.`);
      }}
    >
      <input
        type="email"
        required
        placeholder="your@email.com"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        className="w-full rounded-xl border border-white/15 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400"
      />
      <button className="rounded-xl bg-emerald-500 px-4 font-semibold text-[#0b0f14] hover:bg-emerald-400">
        Notify me
      </button>
    </form>
  );
}
